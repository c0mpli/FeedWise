# FeedWise Backend Development Scripts
.PHONY: dev init-db clean install reset-db setup

# Development server
dev:
	@echo "ğŸš€ Starting development server..."
	python app.py

# Initialize database
init-db:
	@echo "ğŸ—„ï¸ Initializing database..."
	python init_database.py

# Install dependencies
install:
	@echo "ğŸ“¦ Installing dependencies..."
	pip install -r requirements.txt

# Clean cache and temp files
clean:
	@echo "ğŸ§¹ Cleaning cache files..."
	find . -name "*.pyc" -delete
	find . -name "__pycache__" -type d -exec rm -rf {} + 2>/dev/null || true
	find . -name ".pytest_cache" -type d -exec rm -rf {} + 2>/dev/null || true

# Reset database (clean + init)
reset-db: clean init-db
	@echo "ğŸ”„ Database reset complete!"

# Full setup (install + init-db)
setup: install init-db
	@echo "âœ… Project setup complete!"
